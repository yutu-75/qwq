"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[25737],{825737:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(667294),n=a(355786),o=a(310581),r=a(662720),s=a(455867),i=a(616355),u=a(23279),c=a.n(u),d=a(890057),h=a(49937),p=a(427600),v=a(985633),f=a(52004),S=a(174448),g=a(356080),m=a(211965);function w(e,t){switch(t.type){case"ownState":return e.ownState={...e.ownState,...t.ownState},e;case"filterState":return e.extraFormData=t.extraFormData,e.__cache=t.__cache,e.filterState={...e.filterState,...t.filterState},e;default:return e}}function b(e){const{coltypeMap:t,data:a,filterState:u,formData:b,height:F,isRefreshing:C,width:y,setDataMask:M,setHoveredFilter:O,unsetHoveredFilter:k,setFocusedFilter:_,unsetFocusedFilter:N,setFilterActive:Z,appSection:A,showOverflow:D,parentRef:E,inputRef:x,filterBarOrientation:T}=e,{enableEmptyFilter:L,multiSelect:I,showSearch:R,inverseSelection:$,defaultToFirstItem:j,searchAllOptions:J}=b,B=(0,l.useMemo)((()=>(0,n.Z)(b.groupby).map(o.Z)),[b.groupby]),[G]=B,[H]=(0,l.useState)(t),[K,P]=(0,d.C)(w,{extraFormData:{},filterState:u}),V=t[G],q=(0,l.useMemo)((()=>(0,g.EG)({timeFormatter:r.Z})),[]),z=(0,l.useCallback)((e=>{const t=L&&!$&&!(null!=e&&e.length),a=$&&null!=e&&e.length?(0,s.t)(" (excluded)"):"";P({type:"filterState",__cache:u,extraFormData:(0,g.vb)(G,e,t,$),filterState:{...u,label:null!=e&&e.length?`${(e||[]).map((e=>q(e,V))).join(", ")}${a}`:void 0,value:A===i.Tr.FILTER_CONFIG_MODAL&&j?void 0:e}})}),[A,G,V,j,P,L,$,JSON.stringify(u),q]);(0,l.useEffect)((()=>{z(u.value)}),[JSON.stringify(u.value)]);const Q=A===i.Tr.FILTER_CONFIG_MODAL&&j,U=(0,l.useCallback)(c()((e=>{P({type:"ownState",ownState:{coltypeMap:H,search:e}})}),p.M$),[]),W=(0,l.useCallback)((e=>{J&&U(e)}),[U,J]),X=(0,l.useCallback)((()=>{J&&P({type:"ownState",ownState:{coltypeMap:H,search:null}})}),[P,H,J]),Y=(0,l.useCallback)((()=>{X(),N()}),[X,N]),ee=(0,l.useCallback)((e=>{const t=null===e?[null]:(0,n.Z)(e);0===t.length?z(null):z(t)}),[z]);(0,l.useEffect)((()=>{if(j&&void 0===u.value){const e=a[0]?B.map((e=>a[0][e])):null;void 0!==(null==e?void 0:e[0])&&z(e)}else z(Q?null:u.value)}),[G,Q,j,L,$,z,a,B,JSON.stringify(u)]),(0,l.useEffect)((()=>{M(K)}),[JSON.stringify(K)]);const te=0===a.length?(0,s.t)("No data"):(0,s.tn)("%s option","%s options",a.length,a.length),ae=(0,l.useMemo)((()=>{if(u.validateMessage)return(0,m.tZ)(S.Am,{status:u.validateStatus},u.validateMessage)}),[u.validateMessage,u.validateStatus]),le=(0,l.useMemo)((()=>{const e=[];return a.forEach((t=>{const[a]=B.map((e=>t[e]));e.push({label:q(a,V),value:a})})),e}),[a,V,B,q]),ne=(0,l.useCallback)(((e,t)=>{const a=(0,v.mj)("label");return b.sortAscending?a(e,t):a(t,e)}),[b.sortAscending]);return(0,m.tZ)(S.un,{height:F,width:y},(0,m.tZ)(S.jp,{validateStatus:u.validateStatus,extra:ae},(0,m.tZ)(h.r_,{allowClear:!0,allowNewOptions:!0,value:u.value||[],disabled:Q,getPopupContainer:D?()=>(null==E?void 0:E.current)||document.body:e=>(null==e?void 0:e.parentNode)||document.body,showSearch:R,mode:I?"multiple":"single",placeholder:te,onSearch:W,onSelect:X,onBlur:Y,onFocus:_,onMouseEnter:O,onMouseLeave:k,onChange:ee,ref:x,loading:C,oneLine:T===f.Bp.HORIZONTAL,invertSelection:$,options:le,sortComparator:ne,onDropdownVisibleChange:Z})))}},174448:(e,t,a)=>{a.d(t,{Am:()=>s,jp:()=>r,un:()=>o});var l=a(751995),n=a(804591);const o=l.iK.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e}px;
`,r=(0,l.iK)(n.Z)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,s=l.iK.div`
  color: ${({theme:e,status:t="error"})=>{var a;return null==(a=e.colors[t])?void 0:a.base}};
`}}]);